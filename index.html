<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tile Effect Game</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="mainMenu.css" />
    </head>
    <body>
        <div class="full-height">
            <button id="homeButton" onclick="returnToMenu()" aria-label="Return Home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12 3l10 9h-3v9H5v-9H2l10-9z"/>
                </svg>
            </button>

            <button id="toggleColourblind" onclick="toggleColourblindMode()" aria-label="Toggle Colorblind Mode">
                <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12 4.5C7.305 4.5 3.13 7.61 1 12c2.13 4.39 6.305 7.5 11 7.5s8.87-3.11 11-7.5c-2.13-4.39-6.305-7.5-11-7.5zm0 13c-3.03 0-5.5-2.47-5.5-5.5S8.97 6.5 12 6.5s5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5zm0-9a3.5 3.5 0 100 7 3.5 3.5 0 000-7z"/>
                </svg>
            </button>

            <div id="mainMenu" class="menu-overlay">
                <div class="menu-content">
                    <h1 id="gameTitle">Tile Effect</h1>
                    <div class="icon-grid" id="menu-grid">
                        <div class="icon-square"></div>
                        <div class="icon-square"></div>
                        <div class="icon-square"></div>
                        <div class="icon-square"></div>
                        <div class="icon-square"></div>
                        <div class="icon-square"></div>
                    </div>
                    <div class="button-container">
                        <button class="menu-button" onclick="startDaily()">
                            Daily
                        </button>
                        <button class="menu-button" onclick="startEndless()">
                            Endless
                        </button>
                    </div>
                </div>
            </div>

            <div id="game">
                <h1 id="title">Tile Effect</h1>
                <p id="moveBlock">Moves: <span id="moveCount">0</span></p>
                <div id="grid"></div>
                <div id="controls">
                    <div id="buttons"></div>
                </div>
            </div>

            <div id="statsPopup" class="popup hidden">
                <h2>Statistics</h2>

                <!-- Grid layout for scores and main stats -->
                <div class="stats-grid">
                    <div class="score-stats">
                        <div class="stat">
                            <p class="stat-value" id="parScore">0</p>
                            <p class="stat-label">Goal</p>
                        </div>
                        <div class="stat">
                            <p class="stat-value" id="actualScore">0</p>
                            <p class="stat-label">Score</p>
                        </div>
                    </div>

                    <!-- Main stats row -->
                    <div class="main-stats">
                        <div class="stat">
                            <p class="stat-value" id="gamesPlayed">0</p>
                            <p class="stat-label">Games Played</p>
                        </div>
                        <div class="stat">
                            <p class="stat-value" id="winPercentage">0</p>
                            <p class="stat-label">Win Rate (%)</p>
                        </div>
                        <div class="stat">
                            <p class="stat-value" id="currentStreak">0</p>
                            <p class="stat-label">Current<br />Streak</p>
                        </div>
                        <div class="stat">
                            <p class="stat-value" id="maxStreak">0</p>
                            <p class="stat-label">Max<br />Streak</p>
                        </div>
                    </div>
                </div>

                <!-- Guess distribution -->
                <h3>Guess Distribution</h3>
                <div id="guessDistribution" class="distribution-chart"></div>

                <!-- Close button -->
                <button id="closePopup" onclick="closePopup()">Endless</button>
            </div>
        </div>

        <script src="game.js"></script>
    </body>
</html>
